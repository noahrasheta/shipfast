# FocusFlow — Product Requirements Document (PRD)

**Version:** 1.0
**Status:** Draft — MVP
**Author:** [Generated by create-prd]
**Last Updated:** February 2026
**Document Type:** AI-Optimized PRD

---

## Table of Contents

1. [Executive Summary](#1-executive-summary)
2. [Problem Statement](#2-problem-statement)
3. [Solution & Value Proposition](#3-solution--value-proposition)
4. [Target Users & Personas](#4-target-users--personas)
5. [User Stories](#5-user-stories)
6. [MVP Feature Scope](#6-mvp-feature-scope)
7. [User Flows](#7-user-flows)
8. [Tech Stack & Architecture](#8-tech-stack--architecture)
9. [Data Models](#9-data-models)
10. [UI/UX Requirements](#10-uiux-requirements)
11. [Non-Functional Requirements](#11-non-functional-requirements)
12. [Out of Scope](#12-out-of-scope)
13. [Open Questions](#13-open-questions)
14. [Risks & Mitigations](#14-risks--mitigations)
15. [Implementation Phases](#15-implementation-phases)
16. [Environment Variables & Setup Checklist](#16-environment-variables--setup-checklist)

---

## 1. Executive Summary

**FocusFlow** is a minimal web app that helps freelancers track time spent on client projects and generate simple invoices from their tracked hours. No complex project management — just a timer, a log, and a clean invoice.

**One-line pitch:** _Track your hours, send an invoice. That's it._

---

## 2. Problem Statement

Freelancers juggle multiple clients and need to track hours accurately to bill correctly. Current solutions are either too complex (Harvest, Toggl with dozens of features they don't use) or too manual (spreadsheets that require formatting into invoices). Freelancers lose money by underreporting hours and waste time converting time logs into invoices.

**No single product today allows a freelancer to:**
- Start a timer with one click
- See all tracked time organized by client
- Generate a professional invoice from those hours instantly

---

## 3. Solution & Value Proposition

### Core Solution
A three-step experience:
1. Start a timer (or log time manually)
2. See your hours organized by client and project
3. Select hours and generate an invoice with one click

### Unique Differentiators
- **Dead simple** — no project management, no team features, no dashboards
- **Timer to invoice in one flow** — no exporting, no copy-pasting, no reformatting
- **Free tier is genuinely useful** — up to 3 clients, unlimited time tracking

### Value to the Customer
| Moment | What They Feel |
|---|---|
| First timer start | "Finally, something that doesn't ask me 20 setup questions" |
| End of week | "I can see exactly where my hours went" |
| Invoice generation | "That just saved me 30 minutes of spreadsheet work" |

---

## 4. Target Users & Personas

### Primary User
Freelancers and independent contractors who bill by the hour — designers, developers, writers, consultants. Typically working with 1-5 active clients at a time.

### Persona: "Alex the Freelance Designer"
- Age: 29, freelance UX designer, works from home
- Has 3 active clients, bills monthly
- Currently tracks hours in a Google Sheet, manually creates invoices in Google Docs
- **Goal:** Spend less time on admin, more time on actual design work
- **Pain point:** Forgets to log hours, then guesses at end of week. Invoice formatting takes 30+ minutes per client.
- **FocusFlow moment:** Starts timer when beginning client work, stops when done. At month end, selects all hours for a client, clicks "Generate Invoice," and emails it in 2 minutes.

---

## 5. User Stories

### Epic 1: Time Tracking

**US-001** — As a freelancer, I want to start and stop a timer with one click so I can track time without interrupting my workflow.
*Acceptance Criteria:*
- [ ] Single button toggles timer on/off
- [ ] Running timer shows elapsed time in real-time (HH:MM:SS)
- [ ] Timer persists across page refreshes (stored server-side)
- [ ] Running timer is visible from any page in the app (sticky header or floating widget)

**US-002** — As a freelancer, I want to assign a running timer to a client and project so my hours are organized automatically.
*Acceptance Criteria:*
- [ ] Client selector dropdown appears when starting timer
- [ ] Optional project/task label (free text, not required)
- [ ] Last-used client is pre-selected by default
- [ ] Can change client/project while timer is running

**US-003** — As a freelancer, I want to manually add time entries for hours I forgot to track so my records are complete.
*Acceptance Criteria:*
- [ ] Manual entry form with: date, client, project (optional), start time, end time OR duration
- [ ] Cannot create entries in the future
- [ ] Can edit or delete any manual entry

### Epic 2: Time Log & Reporting

**US-004** — As a freelancer, I want to see a weekly view of all my tracked hours organized by client so I can review my work at a glance.
*Acceptance Criteria:*
- [ ] Default view shows current week (Mon-Sun)
- [ ] Navigate between weeks with previous/next arrows
- [ ] Hours grouped by client with daily subtotals
- [ ] Weekly total displayed prominently
- [ ] Color-coded by client for quick scanning

**US-005** — As a freelancer, I want to filter my time log by client and date range so I can find specific entries quickly.
*Acceptance Criteria:*
- [ ] Filter by client (dropdown)
- [ ] Filter by date range (date picker)
- [ ] Filters can be combined
- [ ] Filtered results show total hours matching filters

### Epic 3: Invoice Generation

**US-006** — As a freelancer, I want to select tracked hours and generate a professional invoice so I can bill my clients without manual formatting.
*Acceptance Criteria:*
- [ ] Select a client and date range to include on invoice
- [ ] Preview shows: line items (date, project, hours, rate), subtotal, tax (optional), total
- [ ] Hourly rate pulled from client settings (editable per invoice)
- [ ] Invoice has a professional, clean layout with my business name and client details
- [ ] Invoice numbered sequentially (INV-001, INV-002, etc.)

**US-007** — As a freelancer, I want to download my invoice as a PDF so I can email it or save it for my records.
*Acceptance Criteria:*
- [ ] "Download PDF" button on invoice preview
- [ ] PDF matches the on-screen preview exactly
- [ ] File named: `INV-{number}_{client-name}_{date}.pdf`

**US-008** — As a freelancer, I want to mark invoices as paid or unpaid so I can track what I'm owed.
*Acceptance Criteria:*
- [ ] Invoice status: Draft, Sent, Paid
- [ ] Status can be changed manually
- [ ] Invoice list shows status with visual indicator (color/icon)
- [ ] Dashboard shows total outstanding (unpaid) amount

---

## 6. MVP Feature Scope

### Must-Have (Launch Day)
| Feature | Priority | Notes |
|---|---|---|
| One-click timer with client assignment | P0 | Core interaction loop |
| Manual time entry (add/edit/delete) | P0 | For forgotten hours |
| Weekly time log view | P0 | Primary review screen |
| Client management (add, edit, set hourly rate) | P0 | Required for invoicing |
| Invoice generation from tracked hours | P0 | Core value proposition |
| PDF invoice download | P0 | Primary delivery method |
| Invoice status tracking (draft/sent/paid) | P0 | |
| User authentication | P0 | Clerk — Google login |
| Responsive design (mobile + desktop) | P0 | Freelancers work from phones too |

### Deferred (Post-MVP)
- Email invoices directly from the app
- Recurring invoices
- Expense tracking
- Multi-currency support
- Team/agency features
- Integrations (QuickBooks, Stripe, etc.)
- Reports and analytics
- Client portal (clients view their invoices)

---

## 7. User Flows

### Primary Flow: Track Time
```
Dashboard
  -> Click "Start Timer"
  -> Select client from dropdown (last-used pre-selected)
  -> (Optional) Type project/task label
  -> Timer starts, visible in header
  -> ... work happens ...
  -> Click "Stop" in header
  -> Entry saved automatically
  -> Entry appears in weekly time log
```

### Invoice Flow: Generate Invoice
```
Time Log
  -> Click "Create Invoice"
  -> Select client
  -> Select date range (default: current month)
  -> Preview shows all time entries for that client/range
  -> Review line items (can remove individual entries)
  -> Set/verify hourly rate
  -> (Optional) Add tax percentage
  -> Click "Generate Invoice"
  -> Invoice preview screen
    -> "Download PDF" -> saves file
    -> "Mark as Sent" -> updates status
  -> Invoice appears in Invoices list
```

### Client Management Flow
```
Settings -> Clients
  -> "Add Client" button
  -> Enter: Client name, email, hourly rate
  -> Save
  -> Client appears in client list and timer dropdown
```

---

## 8. Tech Stack & Architecture

| Layer | Technology | Rationale |
|---|---|---|
| **Framework** | Next.js 15 (App Router) | SSR, file-based routing, API routes |
| **Language** | TypeScript | Type safety, required by most modern tooling |
| **Styling** | Tailwind CSS + shadcn/ui | Rapid UI development, accessible components |
| **Authentication** | Clerk | Social login, user management, minimal setup |
| **Database** | Supabase (PostgreSQL) | Relational data (clients, entries, invoices), real-time subscriptions for timer, generous free tier |
| **PDF Generation** | @react-pdf/renderer | Generate invoices as PDFs client-side |
| **Hosting** | Vercel | Native Next.js support, free tier covers MVP |
| **Analytics** | PostHog | Product analytics, free tier |
| **Error Monitoring** | Sentry | Catch and alert on errors |

### Architecture
```
[Browser]
    |
[Vercel — Next.js 15]
    |           |
[Clerk Auth]  [Server Actions / API Routes]
                |
          [Supabase]
          /        \
   [PostgreSQL]  [Realtime]
   (clients,     (timer sync
    entries,      across tabs)
    invoices)
```

---

## 9. Data Models

```sql
-- Clients
CREATE TABLE clients (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id TEXT NOT NULL,           -- Clerk user ID
  name TEXT NOT NULL,
  email TEXT,
  hourly_rate DECIMAL(10,2) NOT NULL DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- Time Entries
CREATE TABLE time_entries (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id TEXT NOT NULL,
  client_id UUID REFERENCES clients(id) ON DELETE CASCADE,
  project_label TEXT,              -- Optional free-text label
  start_time TIMESTAMPTZ NOT NULL,
  end_time TIMESTAMPTZ,            -- NULL if timer is running
  duration_minutes INTEGER,        -- Computed on stop, or manual entry
  is_manual BOOLEAN DEFAULT false,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- Invoices
CREATE TABLE invoices (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id TEXT NOT NULL,
  client_id UUID REFERENCES clients(id),
  invoice_number TEXT NOT NULL,    -- "INV-001"
  status TEXT DEFAULT 'draft',     -- draft, sent, paid
  hourly_rate DECIMAL(10,2) NOT NULL,
  subtotal DECIMAL(10,2) NOT NULL,
  tax_rate DECIMAL(5,2) DEFAULT 0,
  tax_amount DECIMAL(10,2) DEFAULT 0,
  total DECIMAL(10,2) NOT NULL,
  date_from DATE NOT NULL,
  date_to DATE NOT NULL,
  created_at TIMESTAMPTZ DEFAULT now(),
  paid_at TIMESTAMPTZ
);

-- Invoice Line Items (linked time entries)
CREATE TABLE invoice_items (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  invoice_id UUID REFERENCES invoices(id) ON DELETE CASCADE,
  time_entry_id UUID REFERENCES time_entries(id),
  description TEXT NOT NULL,
  hours DECIMAL(6,2) NOT NULL,
  rate DECIMAL(10,2) NOT NULL,
  amount DECIMAL(10,2) NOT NULL
);
```

---

## 10. UI/UX Requirements

### Design Principles
1. **Minimal** — no feature should require explanation. If it needs a tooltip, simplify it.
2. **Fast** — starting a timer must take < 2 seconds from opening the app.
3. **Mobile-capable** — full functionality on phone screens. Freelancers check timers on the go.

### Key Screens
- **Dashboard**: Running timer (if active), today's hours, this week's summary, quick-action buttons (Start Timer, Create Invoice)
- **Time Log**: Weekly calendar view with entries grouped by client. Navigation arrows for week switching.
- **Clients**: Simple list with name, hourly rate, total hours tracked. Add/edit inline or modal.
- **Invoices**: List of all invoices with status badges (Draft=gray, Sent=blue, Paid=green). Click to view/download.
- **Invoice Preview**: Full invoice layout matching the PDF output. Action buttons: Download PDF, Mark as Sent, Mark as Paid.

---

## 11. Non-Functional Requirements

- **Performance**: App loads in < 2 seconds. Timer updates in real-time with no perceptible lag.
- **Security**: All data isolated by user (Supabase RLS policies). No user can see another user's data.
- **Reliability**: Timer state persists across page refreshes and browser crashes (server-side storage, not localStorage).
- **Accessibility**: WCAG 2.1 AA compliance for core flows. Keyboard-navigable timer controls.
- **Browser Support**: Chrome, Safari, Firefox, Edge (latest 2 versions).
- **Mobile**: Fully responsive. Primary target: 390px width (iPhone) and up.

---

## 12. Out of Scope

These are explicitly NOT being built for MVP:

- Team features or multi-user accounts
- Direct invoice emailing from the app
- Recurring/automated invoices
- Expense tracking
- Payment collection (Stripe, PayPal)
- Client portal / client-facing views
- Multi-currency or international tax
- Integrations (QuickBooks, Xero, Stripe, Zapier)
- Reports or analytics beyond basic time log
- Mobile native app (iOS/Android)
- Dark mode (defer to post-MVP)
- Data export (CSV, Excel)
- Undo/redo for time entries
- Desktop notifications for running timers

---

## 13. Open Questions

1. **Free tier limits?** Currently planned: up to 3 clients free, unlimited for $8/month. Validate pricing with early users.
2. **Timer conflict handling?** If user starts a new timer while one is running, should the old one auto-stop or should we prevent starting a second? (Recommended: auto-stop with confirmation.)
3. **Invoice customization?** Should users be able to add a logo or customize invoice colors at MVP? (Recommended: no — clean default template only.)
4. **Tax handling?** Support a single tax rate per invoice, or line-item taxes? (Recommended: single rate per invoice at MVP.)
5. **Data retention?** How long to keep time entries and invoices for free-tier users who stop using the app? (Recommended: indefinite, revisit if storage costs become an issue.)

---

## 14. Risks & Mitigations

| Risk | Likelihood | Impact | Mitigation |
|---|---|---|---|
| PDF generation quality varies across browsers | Medium | Medium | Use @react-pdf/renderer for consistent output; test on Chrome, Safari, Firefox |
| Timer sync issues across multiple tabs/devices | Medium | High | Use Supabase Realtime for timer state; single source of truth on server |
| Supabase free tier limits hit early | Low | Medium | Monitor usage; Supabase free tier is generous (500MB, 50K monthly active users) |
| Users want features beyond MVP scope (expenses, payments) | High | Low | Clear "coming soon" messaging; collect feature requests; don't build until validated |
| Clerk auth issues on mobile browsers | Low | High | Test auth flow on iOS Safari and Android Chrome before launch |

---

## 15. Implementation Phases

### Phase 1: Foundation (Weeks 1-2)
- Next.js + TypeScript + Tailwind + shadcn/ui scaffold
- Clerk authentication (Google login)
- Supabase setup with schema (all 4 tables)
- RLS policies for data isolation
- Basic layout: header, sidebar, main content area
- **Verify:** User can sign in and see an empty dashboard

### Phase 2: Time Tracking (Weeks 3-4)
- Client CRUD (add, edit, delete, set hourly rate)
- Timer: start, stop, assign to client, optional project label
- Timer state persisted server-side (Supabase Realtime)
- Manual time entry (add, edit, delete)
- **Verify:** User can start/stop timer, see entries saved, add manual entries

### Phase 3: Time Log (Weeks 5-6)
- Weekly view with client grouping
- Week navigation (previous/next)
- Client and date range filters
- Daily and weekly totals
- **Verify:** User can review a full week of tracked time, filter by client

### Phase 4: Invoicing (Weeks 7-8)
- Invoice generation from selected time entries
- Invoice preview with line items, subtotal, tax, total
- Sequential invoice numbering
- PDF download via @react-pdf/renderer
- Invoice status management (draft, sent, paid)
- Invoice list with status badges
- **Verify:** User can generate an invoice, download PDF, mark as paid

### Phase 5: Polish & Launch (Weeks 9-10)
- Dashboard: today's hours, week summary, outstanding invoices total
- Responsive design pass (mobile)
- Error handling and loading states
- Sentry error monitoring
- PostHog analytics (key events: sign up, timer start, invoice created)
- **Verify:** Full flow works on mobile. No unhandled errors.

---

## 16. Environment Variables & Setup Checklist

```bash
# Clerk
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=
CLERK_SECRET_KEY=

# Supabase
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Sentry
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=

# PostHog
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=
```

### Account Setup Checklist
- [ ] Vercel — create project, connect GitHub repo
- [ ] Clerk — create application, enable Google provider
- [ ] Supabase — create project, run schema migration, configure RLS
- [ ] Sentry — create Next.js project
- [ ] PostHog — create project, get API key
- [ ] Domain — register and configure DNS in Vercel (if custom domain desired)

---

*This PRD is a living document. Update it as you build, learn, and iterate.*
